pipeline{
    agent any
    environment{
        mongo_url = "mongodb+srv://vivektangudu:viv@cluster0.czt49fi.mongodb.net/"
        JWT_SECRET = "SECRETLEL"
    }
    stages{
        stage('Stage 1: Git Clone'){
           steps{
                git branch: 'main',
                url:'https://github.com/vivektangudu123/udem.git'
            }
        }
        stage('Testing'){
            steps{
                dir('client'){
                    sh "npm install"
                }
            }
        }
        stage('Build Frontend Image') {
            steps {
                sh 'docker build -t frontend-image ./client'
            }
        }
         stage('Build Backend Image') {
            steps {
                sh 'docker build -t backend_image ./client'
            }
        }
    }
}
